var pion,tab64,selection=0,tours=0; var test,coucou;
function stop(){
	position  = [0, 0, 0, 0, 0, 0, 0, 0,
				0, 0, 0, 0, 0, 0, 0, 0,
				0, 0, 0, 0, 0, 0, 0, 0,
				0, 0, 0, 0, 0, 0, 0, 0,
				0, 0, 0, 0, 0, 0, 0, 0,
				0, 0, 0, 0, 0, 0, 0, 0,
				0, 0, 0, 0, 0, 0, 0, 0,
				0, 0, 0, 0, 0, 0, 0, 0];
}
function setup() {
	pion = [2, 3, 4, 5, 6, 4, 3, 2,
			1, 1, 1, 1, 1, 1, 1, 1,
			0, 0, 0, 0, 0, 0, 0, 0,
			0, 0, 0, 0, 0, 0, 0, 0,
			0, 0, 0, 0, 0, 0, 0, 0,
			0, 0, 0, 0, 0, 0, 0, 0,
			11, 11, 11, 11, 11, 11, 11, 11,
			22, 33, 44, 55, 66, 44, 33, 22];
	stop();
		wid=window.innerHeight;
  createCanvas(wid, wid);
  
  camera.on = function() {
    if(!camera.active)
    {
      cameraPush.call(pInst);
      camera.active = true;
	  camera.zoom = zoom;
	  camera.mouseX = pInst.mouseX;
	  camera.mouseY = pInst.mouseY;
    }
  };
	camera.zoom = wid/(800);
	camera.position.x=800/2;
	camera.position.y=800/2;
}

function draw() {
	background(50);
	for(i=0;i<800;i+=200){
		for(O=0;O<800;O+=200){
			fill(255);
			rect(O,i,100,100);
			fill(0,150,0);
			rect(O+100,i,100,100);
			fill(255);
			rect(O+100,i+100,100,100);
			fill(0,150,0);
			rect(O,i+100,100,100);
		}
	}
	for(i=0;i<8;i+=1){  
		for(o=0;o<8;o+=1){
			textAlign(CENTER,CENTER);stroke(255);textSize(100);strokeWeight(2);fill(0);
			if(pion[i*8+o]==0){text("",50+o*100,i*100+50);}
			if(pion[i*8+o]==1){text("♙",50+o*100,i*100+50);}
			if(pion[i*8+o]==2){text("♖",50+o*100,i*100+50);}
			if(pion[i*8+o]==3){text("♘",50+o*100,i*100+50);}
			if(pion[i*8+o]==4){text("♗",50+o*100,i*100+50);}
			if(pion[i*8+o]==5){text("♛",50+o*100,i*100+50);}
			if(pion[i*8+o]==6){text("♔",50+o*100,i*100+50);}
			stroke(0);fill(255);
			if(pion[i*8+o]==11){text("♙",50+o*100,i*100+50);}
			if(pion[i*8+o]==22){text("♖",50+o*100,i*100+50);}
			if(pion[i*8+o]==33){text("♘",50+o*100,i*100+50);}
			if(pion[i*8+o]==44){text("♗",50+o*100,i*100+50);}
			if(pion[i*8+o]==55){text("♕",50+o*100,i*100+50);}
			if(pion[i*8+o]==66){text("♔",50+o*100,i*100+50);}
		}
	}
	if(selection==1){
		for(i=0;i<8;i+=1){  
			for(o=0;o<8;o+=1){
				if(position[i*8+o]==1){
					fill(0,255,0,100);
					rect(o*100,i*100,100,100);	
				}
				if(position[i*8+o]==2){
					fill(128,128,128);
					circle(o*100+50, i*100+50, 20);
				}
				if(position[i*8+o]==3){
					fill(255,0,0,100);
					circle(o*100+50, i*100+50, 20);	
				}
			}
		}
	}
	// text(tours,400,400)
}
function mouseClicked() {
	for(i=0;i<8;i+=1){  
		for(o=0;o<8;o+=1){
			if(mouseX > o*width/8 && mouseX < o*width/8+width/8 && mouseY > i*height/8 && mouseY < i*height/8+height/8){
				if(selection==0 && pion[i*8+o]!=0){
					if(pion[i*8+o]==11&&tours % 2 == 0)pionblanc(i,o);
					if(pion[i*8+o]==1&&tours % 2 == 1)pionnoir(i,o);
					if(pion[i*8+o]==22&&tours % 2 == 0)tourblanc(i,o);
					if(pion[i*8+o]==2&&tours % 2 == 1)tournoir(i,o);
					if(pion[i*8+o]==33&&tours % 2 == 0)chevalblanc(i,o);
					if(pion[i*8+o]==3&&tours % 2 == 1)chevalnoir(i,o);
					if(pion[i*8+o]==44&&tours % 2 == 0)foublanc(i,o);
					if(pion[i*8+o]==4&&tours % 2 == 1)founoir(i,o);
					if(pion[i*8+o]==55&&tours % 2 == 0)dameblanc(i,o);
					if(pion[i*8+o]==5&&tours % 2 == 1)damenoir(i,o);
					if(pion[i*8+o]==66&&tours % 2 == 0)roiblanc(i,o);
					if(pion[i*8+o]==6&&tours % 2 == 1)roinoir(i,o);
				}
				else{
					if(selection==1){
						if(position[i*8+o]==1){
							selection=0;
							stop();
						}
						if(position[i*8+o]==3||position[i*8+o]==2){
							pion[coucou[0]]=0;
							pion[i*8+o]=coucou[1];
							selection=0;
							stop();
							tours++
						}
					}
				}
			}
		}
	}		
}
function pionblanc(a,b){
	coucou=[a*8+b,11];
	selection=1;
	position[a*8+b]=1;
	if(a==1){coucou[1]=55;}
	if(a-1>-1){
		if(pion[(a-1)*8+b]!=11&&pion[(a-1)*8+b]!=22&&pion[(a-1)*8+b]!=33&&pion[(a-1)*8+b]!=44&&pion[(a-1)*8+b]!=55&&pion[(a-1)*8+b]!=66&&pion[(a-1)*8+b]!=1&&pion[(a-1)*8+b]!=2&&pion[(a-1)*8+b]!=3&&pion[(a-1)*8+b]!=4&&pion[(a-1)*8+b]!=5&&pion[(a-1)*8+b]!=6){
			position[(a-1)*8+b]=2;
			if(pion[(a-2)*8+b]!=11&&pion[(a-2)*8+b]!=22&&pion[(a-2)*8+b]!=33&&pion[(a-2)*8+b]!=44&&pion[(a-2)*8+b]!=55&&pion[(a-2)*8+b]!=66&&pion[(a-2)*8+b]!=1&&pion[(a-2)*8+b]!=2&&pion[(a-2)*8+b]!=3&&pion[(a-2)*8+b]!=4&&pion[(a-2)*8+b]!=5&&pion[(a-2)*8+b]!=6&&a==6){
				position[(a-2)*8+b]=2;
			}
		}
	}
	if(a-1>-1&&b+1<8){
		if(pion[(a-1)*8+b+1]==1||pion[(a-1)*8+b+1]==2||pion[(a-1)*8+b+1]==3||pion[(a-1)*8+b+1]==4||pion[(a-1)*8+b+1]==5){
			position[(a-1)*8+b+1]=3;
		}
	}
	if(a-1>-1&&b-1>-1){
		if(pion[(a-1)*8+b-1]==1||pion[(a-1)*8+b-1]==2||pion[(a-1)*8+b-1]==3||pion[(a-1)*8+b-1]==4||pion[(a-1)*8+b-1]==5){
			position[(a-1)*8+b-1]=3;
		}
	}
}
function pionnoir(a,b){
	coucou=[a*8+b,1];
	selection=1;
	position[a*8+b]=1;
	if(a==6){coucou[1]=5;}
	if(a+1<8){
		if(pion[(a+1)*8+b]!=11&&pion[(a+1)*8+b]!=22&&pion[(a+1)*8+b]!=33&&pion[(a+1)*8+b]!=44&&pion[(a+1)*8+b]!=55&&pion[(a+1)*8+b]!=66&&pion[(a+1)*8+b]!=1&&pion[(a+1)*8+b]!=2&&pion[(a+1)*8+b]!=3&&pion[(a+1)*8+b]!=4&&pion[(a+1)*8+b]!=5&&pion[(a+1)*8+b]!=6){
			position[(a+1)*8+b]=2;
			if(pion[(a+2)*8+b]!=11&&pion[(a+2)*8+b]!=22&&pion[(a+2)*8+b]!=33&&pion[(a+2)*8+b]!=44&&pion[(a+2)*8+b]!=55&&pion[(a+2)*8+b]!=66&&pion[(a+2)*8+b]!=1&&pion[(a+2)*8+b]!=2&&pion[(a+2)*8+b]!=3&&pion[(a+2)*8+b]!=4&&pion[(a+2)*8+b]!=5&&pion[(a+2)*8+b]!=6&&a==1){
				position[(a+2)*8+b]=2;
			}
		}

	}
	if(a+1<8&&b+1<8){
		if(pion[(a+1)*8+b+1]==11||pion[(a+1)*8+b+1]==22||pion[(a+1)*8+b+1]==33||pion[(a+1)*8+b+1]==44||pion[(a+1)*8+b+1]==55){
			position[(a+1)*8+b+1]=3;
		}
	}
	if(a+1<8&&b-1>-1){
		if(pion[(a+1)*8+b-1]==11||pion[(a+1)*8+b-1]==22||pion[(a+1)*8+b-1]==33||pion[(a+1)*8+b-1]==44||pion[(a+1)*8+b-1]==55){
			position[(a+1)*8+b-1]=3;
		}
	}
}
function tourblanc(a,b){
	coucou=[a*8+b,22];
	selection=1;
	position[a*8+b]=1;
	for(o=1;b+o<8;o++){  
		if(pion[a*8+b+o]!=11&&pion[a*8+b+o]!=22&&pion[a*8+b+o]!=33&&pion[a*8+b+o]!=44&&pion[a*8+b+o]!=55&&pion[a*8+b+o]!=66&&pion[a*8+b+o]!=6){
			if(pion[a*8+b+o]==0){
				position[a*8+b+o]=2;
			}
			if(pion[a*8+b+o]==1||pion[a*8+b+o]==2||pion[a*8+b+o]==3||pion[a*8+b+o]==4||pion[a*8+b+o]==5){
				position[a*8+b+o]=3;
				o=20;
			}
		}
		else{o=20;}
	}
	for(o=1;b-o>-1;o++){  
		if(pion[a*8+b-o]!=11&&pion[a*8+b-o]!=22&&pion[a*8+b-o]!=33&&pion[a*8+b-o]!=44&&pion[a*8+b-o]!=55&&pion[a*8+b-o]!=66&&pion[a*8+b-o]!=6){
			if(pion[a*8+b-o]==0){
				position[a*8+b-o]=2;
			}
			if(pion[a*8+b-o]==1||pion[a*8+b-o]==2||pion[a*8+b-o]==3||pion[a*8+b-o]==4||pion[a*8+b-o]==5){
				position[a*8+b-o]=3;
				o=20;
			}
		}
		else{o=20;}
	}
	for(i=1;a+i<8;i++){  
		if(pion[(a+i)*8+b]!=11&&pion[(a+i)*8+b]!=22&&pion[(a+i)*8+b]!=3&3&pion[(a+i)*8+b]!=44&&pion[(a+i)*8+b]!=55&&pion[(a+i)*8+b]!=66&&pion[(a+i)*8+b]!=6){
			if(pion[(a+i)*8+b]==0){
				position[(a+i)*8+b]=2;
			}
			if(pion[(a+i)*8+b]==1||pion[(a+i)*8+b]==2||pion[(a+i)*8+b]==33||pion[(a+i)*8+b]==4||pion[(a+i)*8+b]==5){
				position[(a+i)*8+b]=3;
				i=20;
			}
		}
		else{i=20;}
	}
	for(i=1;a-i>-1;i++){  
		if(pion[(a-i)*8+b]!=11&&pion[(a-i)*8+b]!=22&&pion[(a-i)*8+b]!=33&&pion[(a-i)*8+b]!=44&&pion[(a-i)*8+b]!=55&&pion[(a-i)*8+b]!=66&&pion[(a-i)*8+b]!=6){
			if(pion[(a-i)*8+b]==0){
				position[(a-i)*8+b]=2;
			}
			if(pion[(a-i)*8+b]==1||pion[(a-i)*8+b]==2||pion[(a-i)*8+b]==3||pion[(a-i)*8+b]==4||pion[(a-i)*8+b]==5){
				position[(a-i)*8+b]=3;
				i=20;
			}
		}
		else{i=20;}
	}
}
function tournoir(a,b){
	coucou=[a*8+b,2];
	selection=1;
	position[a*8+b]=1;
	for(o=1;b+o<8;o++){  
		if(pion[a*8+b+o]!=1&&pion[a*8+b+o]!=2&&pion[a*8+b+o]!=3&&pion[a*8+b+o]!=4&&pion[a*8+b+o]!=5&&pion[a*8+b+o]!=6&&pion[a*8+b+o]!=66){
			if(pion[a*8+b+o]==0){
				position[a*8+b+o]=2;
			}
			if(pion[a*8+b+o]==11||pion[a*8+b+o]==22||pion[a*8+b+o]==33||pion[a*8+b+o]==44||pion[a*8+b+o]==55){
				position[a*8+b+o]=3;
				o=20;
			}
		}
		else{o=20;}
	}
	for(o=1;b-o>-1;o++){  
		if(pion[a*8+b-o]!=1&&pion[a*8+b-o]!=2&&pion[a*8+b-o]!=3&&pion[a*8+b-o]!=4&&pion[a*8+b-o]!=5&&pion[a*8+b-o]!=6&&pion[a*8+b-o]!=66){
			if(pion[a*8+b-o]==0){
				position[a*8+b-o]=2;
			}
			if(pion[a*8+b-o]==11||pion[a*8+b-o]==22||pion[a*8+b-o]==33||pion[a*8+b-o]==44||pion[a*8+b-o]==55){
				position[a*8+b-o]=3;
				o=20;
			}
		}
		else{o=20;}
	}
	for(i=1;a+i<8;i++){  
		if(pion[(a+i)*8+b]!=1&&pion[(a+i)*8+b]!=2&&pion[(a+i)*8+b]!=3&&pion[(a+i)*8+b]!=4&&pion[(a+i)*8+b]!=5&&pion[(a+i)*8+b]!=6&&pion[(a+i)*8+b]!=66){
			if(pion[(a+i)*8+b]==0){
				position[(a+i)*8+b]=2;
			}
			if(pion[(a+i)*8+b]==11||pion[(a+i)*8+b]==22||pion[(a+i)*8+b]==33||pion[(a+i)*8+b]==44||pion[(a+i)*8+b]==55){
				position[(a+i)*8+b]=3;
				i=20;
			}
		}
		else{i=20;}
	}
	for(i=1;a-i>-1;i++){  
		if(pion[(a-i)*8+b]!=1&&pion[(a-i)*8+b]!=2&&pion[(a-i)*8+b]!=3&&pion[(a-i)*8+b]!=4&&pion[(a-i)*8+b]!=5&&pion[(a-i)*8+b]!=6&&pion[(a-i)*8+b]!=66){
			if(pion[(a-i)*8+b]==0){
				position[(a-i)*8+b]=2;
			}
			if(pion[(a-i)*8+b]==11||pion[(a-i)*8+b]==22||pion[(a-i)*8+b]==33||pion[(a-i)*8+b]==44||pion[(a-i)*8+b]==55){
				position[(a-i)*8+b]=3;
				i=20;
			}
		}
		else{i=20;}
	}
}
function chevalblanc(a,b){
	coucou=[a*8+b,33];
	selection=1;
	position[a*8+b]=1;
	if(a+2<8&&b+1<8){
		if(pion[(a+2)*8+b+1]!=11&&pion[(a+2)*8+b+1]!=22&&pion[(a+2)*8+b+1]!=33&&pion[(a+2)*8+b+1]!=44&&pion[(a+2)*8+b+1]!=55&&pion[(a+2)*8+b+1]!=66){
			position[(a+2)*8+b+1]=2;
		}
		if(pion[(a+2)*8+b+1]==1||pion[(a+2)*8+b+1]==2||pion[(a+2)*8+b+1]==3||pion[(a+2)*8+b+1]==4||pion[(a+2)*8+b+1]==5){
			position[(a+2)*8+b+1]=3;
		}
	}
	if(a+2<8&&b-1>-1){
		if(pion[(a+2)*8+b-1]!=11&&pion[(a+2)*8+b-1]!=22&&pion[(a+2)*8+b-1]!=33&&pion[(a+2)*8+b-1]!=44&&pion[(a+2)*8+b-1]!=55&&pion[(a+2)*8+b-1]!=66){
			position[(a+2)*8+b-1]=2;
		}
		if(pion[(a+2)*8+b-1]==1||pion[(a+2)*8+b-1]==2||pion[(a+2)*8+b-1]==3||pion[(a+2)*8+b-1]==4||pion[(a+2)*8+b-1]==5){
			position[(a+2)*8+b-1]=3;
		}
	}
		if(a-2>-1&&b+1<8){
		if(pion[(a-2)*8+b+1]!=11&&pion[(a-2)*8+b+1]!=22&&pion[(a-2)*8+b+1]!=33&&pion[(a-2)*8+b+1]!=44&&pion[(a-2)*8+b+1]!=55&&pion[(a-2)*8+b+1]!=66){
			position[(a-2)*8+b+1]=2;
		}
		if(pion[(a-2)*8+b+1]==1||pion[(a-2)*8+b+1]==2||pion[(a-2)*8+b+1]==3||pion[(a-2)*8+b+1]==4||pion[(a-2)*8+b+1]==5){
			position[(a-2)*8+b+1]=3;
		}
	}
	if(a-2>-1&&b-1>-1){
		if(pion[(a-2)*8+b-1]!=11&&pion[(a-2)*8+b-1]!=22&&pion[(a-2)*8+b-1]!=33&&pion[(a-2)*8+b-1]!=44&&pion[(a-2)*8+b-1]!=55&&pion[(a-2)*8+b-1]!=66){
			position[(a-2)*8+b-1]=2;
		}
		if(pion[(a-2)*8+b-1]==1||pion[(a-2)*8+b-1]==2||pion[(a-2)*8+b-1]==3||pion[(a-2)*8+b-1]==4||pion[(a-2)*8+b-1]==5){
			position[(a-2)*8+b-1]=3;
		}
	}
	if(a+1<8&&b+2<8){
		if(pion[(a+1)*8+b+2]!=11&&pion[(a+1)*8+b+2]!=22&&pion[(a+1)*8+b+2]!=33&&pion[(a+1)*8+b+2]!=44&&pion[(a+1)*8+b+2]!=55&&pion[(a+1)*8+b+2]!=66){
			position[(a+1)*8+b+2]=2;
		}
		if(pion[(a+1)*8+b+2]==1||pion[(a+1)*8+b+2]==2||pion[(a+1)*8+b+2]==3||pion[(a+1)*8+b+2]==4||pion[(a+1)*8+b+2]==5){
			position[(a+1)*8+b+2]=3;
		}
	}
	if(a+1<8&&b-2>-1){
		if(pion[(a+1)*8+b-2]!=11&&pion[(a+1)*8+b-2]!=22&&pion[(a+1)*8+b-2]!=33&&pion[(a+1)*8+b-2]!=44&&pion[(a+1)*8+b-2]!=55&&pion[(a+1)*8+b-2]!=66){
			position[(a+1)*8+b-2]=2;
		}
		if(pion[(a+1)*8+b-2]==1||pion[(a+1)*8+b-2]==2||pion[(a+1)*8+b-2]==3||pion[(a+1)*8+b-2]==4||pion[(a+1)*8+b-2]==5){
			position[(a+1)*8+b-2]=3;
		}
	}
	if(a-1>-1&&b+2<8){
		if(pion[(a-1)*8+b+2]!=11&&pion[(a-1)*8+b+2]!=22&&pion[(a-1)*8+b+2]!=33&&pion[(a-1)*8+b+2]!=44&&pion[(a-1)*8+b+2]!=55&&pion[(a-1)*8+b+2]!=66){
			position[(a-1)*8+b+2]=2;
		}
		if(pion[(a-1)*8+b+2]==1||pion[(a-1)*8+b+2]==2||pion[(a-1)*8+b+2]==3||pion[(a-1)*8+b+2]==4||pion[(a-1)*8+b+2]==5){
			position[(a-1)*8+b+2]=3;
		}
	}
	if(a-1>-1&&b-2>-1){
		if(pion[(a-1)*8+b-2]!=11&&pion[(a-1)*8+b-2]!=22&&pion[(a-1)*8+b-2]!=33&&pion[(a-1)*8+b-2]!=44&&pion[(a-1)*8+b-2]!=55&&pion[(a-1)*8+b-2]!=66){
			position[(a-1)*8+b-2]=2;
		}
		if(pion[(a-1)*8+b-2]==1||pion[(a-1)*8+b-2]==2||pion[(a-1)*8+b-2]==3||pion[(a-1)*8+b-2]==4||pion[(a-1)*8+b-2]==5){
			position[(a-1)*8+b-2]=3;
		}
	}
}
function chevalnoir(a,b){
	coucou=[a*8+b,3];
	selection=1;
	position[a*8+b]=1;
	if(a+2<8&&b+1<8){
		if(pion[(a+2)*8+b+1]!=1&&pion[(a+2)*8+b+1]!=2&&pion[(a+2)*8+b+1]!=3&&pion[(a+2)*8+b+1]!=4&&pion[(a+2)*8+b+1]!=5&&pion[(a+2)*8+b+1]!=6){
			position[(a+2)*8+b+1]=2;
		}
		if(pion[(a+2)*8+b+1]==11||pion[(a+2)*8+b+1]==22||pion[(a+2)*8+b+1]==33||pion[(a+2)*8+b+1]==44||pion[(a+2)*8+b+1]==55){
			position[(a+2)*8+b+1]=3;
		}
	}
	if(a+2<8&&b-1>-1){
		if(pion[(a+2)*8+b-1]!=1&&pion[(a+2)*8+b-1]!=2&&pion[(a+2)*8+b-1]!=3&&pion[(a+2)*8+b-1]!=4&&pion[(a+2)*8+b-1]!=5&&pion[(a+2)*8+b-1]!=6){
			position[(a+2)*8+b-1]=2;
		}
		if(pion[(a+2)*8+b-1]==11||pion[(a+2)*8+b-1]==22||pion[(a+2)*8+b-1]==33||pion[(a+2)*8+b-1]==44||pion[(a+2)*8+b-1]==55){
			position[(a+2)*8+b-1]=3;
		}
	}
	
		if(a-2>-1&&b+1<8){
		if(pion[(a-2)*8+b+1]!=1&&pion[(a-2)*8+b+1]!=2&&pion[(a-2)*8+b+1]!=3&&pion[(a-2)*8+b+1]!=4&&pion[(a-2)*8+b+1]!=5&&pion[(a-2)*8+b+1]!=6){
			position[(a-2)*8+b+1]=2;
		}
		if(pion[(a-2)*8+b+1]==11||pion[(a-2)*8+b+1]==22||pion[(a-2)*8+b+1]==33||pion[(a-2)*8+b+1]==44||pion[(a-2)*8+b+1]==55){
			position[(a-2)*8+b+1]=3;
		}
	}
	if(a-2>-1&&b-1>-1){
		if(pion[(a-2)*8+b-1]!=1&&pion[(a-2)*8+b-1]!=2&&pion[(a-2)*8+b-1]!=3&&pion[(a-2)*8+b-1]!=4&&pion[(a-2)*8+b-1]!=5&&pion[(a-2)*8+b-1]!=6){
			position[(a-2)*8+b-1]=2;
		}
		if(pion[(a-2)*8+b-1]==11||pion[(a-2)*8+b-1]==22||pion[(a-2)*8+b-1]==33||pion[(a-2)*8+b-1]==44||pion[(a-2)*8+b-1]==55){
			position[(a-2)*8+b-1]=3;
		}
	}
	if(a+1<8&&b+2<8){
		if(pion[(a+1)*8+b+2]!=1&&pion[(a+1)*8+b+2]!=2&&pion[(a+1)*8+b+2]!=3&&pion[(a+1)*8+b+2]!=4&&pion[(a+1)*8+b+2]!=5&&pion[(a+1)*8+b+2]!=6){
			position[(a+1)*8+b+2]=2;
		}
		if(pion[(a+1)*8+b+2]==11||pion[(a+1)*8+b+2]==22||pion[(a+1)*8+b+2]==33||pion[(a+1)*8+b+2]==44||pion[(a+1)*8+b+2]==55){
			position[(a+1)*8+b+2]=3;
		}
	}
	if(a+1<8&&b-2>-1){
		if(pion[(a+1)*8+b-2]!=1&&pion[(a+1)*8+b-2]!=2&&pion[(a+1)*8+b-2]!=3&&pion[(a+1)*8+b-2]!=4&&pion[(a+1)*8+b-2]!=5&&pion[(a+1)*8+b-2]!=6){
			position[(a+1)*8+b-2]=2;
		}
		if(pion[(a+1)*8+b-2]==11||pion[(a+1)*8+b-2]==22||pion[(a+1)*8+b-2]==33||pion[(a+1)*8+b-2]==44||pion[(a+1)*8+b-2]==55){
			position[(a+1)*8+b-2]=3;
		}
	}
		if(a-1>-1&&b+2<8){
		if(pion[(a-1)*8+b+2]!=1&&pion[(a-1)*8+b+2]!=2&&pion[(a-1)*8+b+2]!=3&&pion[(a-1)*8+b+2]!=4&&pion[(a-1)*8+b+2]!=5&&pion[(a-1)*8+b+2]!=6){
			position[(a-1)*8+b+2]=2;
		}
		if(pion[(a-1)*8+b+2]==11||pion[(a-1)*8+b+2]==22||pion[(a-1)*8+b+2]==33||pion[(a-1)*8+b+2]==44||pion[(a-1)*8+b+2]==55){
			position[(a-1)*8+b+2]=3;
		}
	}
	if(a-1>-1&&b-2>-1){
		if(pion[(a-1)*8+b-2]!=1&&pion[(a-1)*8+b-2]!=2&&pion[(a-1)*8+b-2]!=3&&pion[(a-1)*8+b-2]!=4&&pion[(a-1)*8+b-2]!=5&&pion[(a-1)*8+b-2]!=6){
			position[(a-1)*8+b-2]=2;
		}
		if(pion[(a-1)*8+b-2]==11||pion[(a-1)*8+b-2]==22||pion[(a-1)*8+b-2]==33||pion[(a-1)*8+b-2]==44||pion[(a-1)*8+b-2]==55){
			position[(a-1)*8+b-2]=3;
		}
	}
}
function foublanc(a,b){
	coucou=[a*8+b,44];
	selection=1;
	position[a*8+b]=1;
	for(o=1;o<8;o++){  
		if(a+o<8&&b-o>-1){
			if(pion[(a+o)*8+b-o]!=11&&pion[(a+o)*8+b-o]!=22&&pion[(a+o)*8+b-o]!=33&&pion[(a+o)*8+b-o]!=44&&pion[(a+o)*8+b-o]!=55&&pion[(a+o)*8+b-o]!=66&&pion[(a+o)*8+b-o]!=6){
				if(pion[(a+o)*8+b-o]==0){
					position[(a+o)*8+b-o]=2;
				}
				if(pion[(a+o)*8+b-o]==1||pion[(a+o)*8+b-o]==2||pion[(a+o)*8+b-o]==3||pion[(a+o)*8+b-o]==4||pion[(a+o)*8+b-o]==5){
					position[(a+o)*8+b-o]=3;
					o=20;
				}
			}
			else{o=20;}
		}
		else{o=20;}
	}
	for(o=1;o<8;o++){  
		if(a+o<8&&b+o<8){
			if(pion[(a+o)*8+b+o]!=11&&pion[(a+o)*8+b+o]!=22&&pion[(a+o)*8+b+o]!=33&&pion[(a+o)*8+b+o]!=44&&pion[(a+o)*8+b+o]!=55&&pion[(a+o)*8+b+o]!=66&&pion[(a+o)*8+b+o]!=6){
				if(pion[(a+o)*8+b+o]==0){
					position[(a+o)*8+b+o]=2;
				}
				if(pion[(a+o)*8+b+o]==1||pion[(a+o)*8+b+o]==2||pion[(a+o)*8+b+o]==3||pion[(a+o)*8+b+o]==4||pion[(a+o)*8+b+o]==5){
					position[(a+o)*8+b+o]=3;
					o=20;
				}
			}
			else{o=20;}
		}
		else{o=20;}
	}
	for(o=1;o<8;o++){  
		if(a-o>-1&&b+o<8){
			if(pion[(a-o)*8+b+o]!=11&&pion[(a-o)*8+b+o]!=22&&pion[(a-o)*8+b+o]!=33&&pion[(a-o)*8+b+o]!=44&&pion[(a-o)*8+b+o]!=55&&pion[(a-o)*8+b+o]!=66&&pion[(a-o)*8+b+o]!=6){
				if(pion[(a-o)*8+b+o]==0){
					position[(a-o)*8+b+o]=2;
				}
				if(pion[(a-o)*8+b+o]==1||pion[(a-o)*8+b+o]==2||pion[(a-o)*8+b+o]==3||pion[(a-o)*8+b+o]==4||pion[(a-o)*8+b+o]==5){
					position[(a-o)*8+b+o]=3;
					o=20;
				}
			}
			else{o=20;}
		}
		else{o=20;}
	}
	for(o=1;o<8;o++){  
		if(a-o>-1&&b-o>-1){
			if(pion[(a-o)*8+b-o]!=11&&pion[(a-o)*8+b-o]!=22&&pion[(a-o)*8+b-o]!=33&&pion[(a-o)*8+b-o]!=44&&pion[(a-o)*8+b-o]!=55&&pion[(a-o)*8+b-o]!=66&&pion[(a-o)*8+b-o]!=6){
				if(pion[(a-o)*8+b-o]==0){
					position[(a-o)*8+b-o]=2;
				}
				if(pion[(a-o)*8+b-o]==1||pion[(a-o)*8+b-o]==2||pion[(a-o)*8+b-o]==3||pion[(a-o)*8+b-o]==4||pion[(a-o)*8+b-o]==5){
					position[(a-o)*8+b-o]=3;
					o=20;
				}
			}
			else{o=20;}
		}
		else{o=20;}
	}
}
function founoir(a,b){
	coucou=[a*8+b,4];
	selection=1;
	position[a*8+b]=1;
	for(o=1;o<8;o++){  
		if(a+o<8&&b-o>-1){
			if(pion[(a+o)*8+b-o]!=1&&pion[(a+o)*8+b-o]!=2&&pion[(a+o)*8+b-o]!=3&&pion[(a+o)*8+b-o]!=4&&pion[(a+o)*8+b-o]!=5&&pion[(a+o)*8+b-o]!=6&&pion[(a+o)*8+b-o]!=66){
				if(pion[(a+o)*8+b-o]==0){
					position[(a+o)*8+b-o]=2;
				}
				if(pion[(a+o)*8+b-o]==11||pion[(a+o)*8+b-o]==22||pion[(a+o)*8+b-o]==33||pion[(a+o)*8+b-o]==44||pion[(a+o)*8+b-o]==55){
					position[(a+o)*8+b-o]=3;
					o=20;
				}
			}
			else{o=20;}
		}
		else{o=20;}
	}
	for(o=1;o<8;o++){  
		if(a+o<8&&b+o<8){
			if(pion[(a+o)*8+b+o]!=1&&pion[(a+o)*8+b+o]!=2&&pion[(a+o)*8+b+o]!=3&&pion[(a+o)*8+b+o]!=4&&pion[(a+o)*8+b+o]!=5&&pion[(a+o)*8+b+o]!=6&&pion[(a+o)*8+b+o]!=66){
				if(pion[(a+o)*8+b+o]==0){
					position[(a+o)*8+b+o]=2;
				}
				if(pion[(a+o)*8+b+o]==11||pion[(a+o)*8+b+o]==22||pion[(a+o)*8+b+o]==33||pion[(a+o)*8+b+o]==44||pion[(a+o)*8+b+o]==55){
					position[(a+o)*8+b+o]=3;
					o=20;
				}
			}
			else{o=20;}
		}
		else{o=20;}
	}
	for(o=1;o<8;o++){  
		if(a-o>-1&&b+o<8){
			if(pion[(a-o)*8+b+o]!=1&&pion[(a-o)*8+b+o]!=2&&pion[(a-o)*8+b+o]!=3&&pion[(a-o)*8+b+o]!=4&&pion[(a-o)*8+b+o]!=5&&pion[(a-o)*8+b+o]!=6&&pion[(a-o)*8+b+o]!=66){
				if(pion[(a-o)*8+b+o]==0){
					position[(a-o)*8+b+o]=2;
				}
				if(pion[(a-o)*8+b+o]==11||pion[(a-o)*8+b+o]==22||pion[(a-o)*8+b+o]==33||pion[(a-o)*8+b+o]==44||pion[(a-o)*8+b+o]==55){
					position[(a-o)*8+b+o]=3;
					o=20;
				}
			}
			else{o=20;}
		}
		else{o=20;}
	}
	for(o=1;o<8;o++){  
		if(a-o>-1&&b-o>-1){
			if(pion[(a-o)*8+b-o]!=1&&pion[(a-o)*8+b-o]!=2&&pion[(a-o)*8+b-o]!=3&&pion[(a-o)*8+b-o]!=4&&pion[(a-o)*8+b-o]!=5&&pion[(a-o)*8+b-o]!=6&&pion[(a-o)*8+b-o]!=66){
				if(pion[(a-o)*8+b-o]==0){
					position[(a-o)*8+b-o]=2;
				}
				if(pion[(a-o)*8+b-o]==11||pion[(a-o)*8+b-o]==22||pion[(a-o)*8+b-o]==33||pion[(a-o)*8+b-o]==44||pion[(a-o)*8+b-o]==55){
					position[(a-o)*8+b-o]=3;
					o=20;
				}
			}
			else{o=20;}
		}
		else{o=20;}
	}
}
function dameblanc(a,b){
	coucou=[a*8+b,55];
	selection=1;
	position[a*8+b]=1;
	for(o=1;b+o<8;o++){  
		if(pion[a*8+b+o]!=11&&pion[a*8+b+o]!=22&&pion[a*8+b+o]!=33&&pion[a*8+b+o]!=44&&pion[a*8+b+o]!=55&&pion[a*8+b+o]!=66&&pion[a*8+b+o]!=6){
			if(pion[a*8+b+o]==0){
				position[a*8+b+o]=2;
			}
			if(pion[a*8+b+o]==1||pion[a*8+b+o]==2||pion[a*8+b+o]==3||pion[a*8+b+o]==4||pion[a*8+b+o]==5){
				position[a*8+b+o]=3;
				o=20;
			}
		}
		else{o=20;}
	}
	for(o=1;b-o>-1;o++){  
		if(pion[a*8+b-o]!=11&&pion[a*8+b-o]!=22&&pion[a*8+b-o]!=33&&pion[a*8+b-o]!=44&&pion[a*8+b-o]!=55&&pion[a*8+b-o]!=66&&pion[a*8+b-o]!=6){
			if(pion[a*8+b-o]==0){
				position[a*8+b-o]=2;
			}
			if(pion[a*8+b-o]==1||pion[a*8+b-o]==2||pion[a*8+b-o]==3||pion[a*8+b-o]==4||pion[a*8+b-o]==5){
				position[a*8+b-o]=3;
				o=20;
			}
		}
		else{o=20;}
	}
	
	for(i=1;a+i<8;i++){  
		if(pion[(a+i)*8+b]!=11&&pion[(a+i)*8+b]!=22&&pion[(a+i)*8+b]!=3&3&pion[(a+i)*8+b]!=44&&pion[(a+i)*8+b]!=55&&pion[(a+i)*8+b]!=66&&pion[(a+i)*8+b]!=6){
			if(pion[(a+i)*8+b]==0){
				position[(a+i)*8+b]=2;
			}
			if(pion[(a+i)*8+b]==1||pion[(a+i)*8+b]==2||pion[(a+i)*8+b]==33||pion[(a+i)*8+b]==4||pion[(a+i)*8+b]==5){
				position[(a+i)*8+b]=3;
				i=20;
			}
		}
		else{i=20;}
	}
	for(i=1;a-i>-1;i++){  
		if(pion[(a-i)*8+b]!=11&&pion[(a-i)*8+b]!=22&&pion[(a-i)*8+b]!=33&&pion[(a-i)*8+b]!=44&&pion[(a-i)*8+b]!=55&&pion[(a-i)*8+b]!=66&&pion[(a-i)*8+b]!=6){
			if(pion[(a-i)*8+b]==0){
				position[(a-i)*8+b]=2;
			}
			if(pion[(a-i)*8+b]==1||pion[(a-i)*8+b]==2||pion[(a-i)*8+b]==3||pion[(a-i)*8+b]==4||pion[(a-i)*8+b]==5){
				position[(a-i)*8+b]=3;
				i=20;
			}
		}
		else{i=20;}
	}
	for(o=1;o<8;o++){  
		if(a+o<8&&b-o>-1){
			if(pion[(a+o)*8+b-o]!=11&&pion[(a+o)*8+b-o]!=22&&pion[(a+o)*8+b-o]!=33&&pion[(a+o)*8+b-o]!=44&&pion[(a+o)*8+b-o]!=55&&pion[(a+o)*8+b-o]!=66&&pion[(a+o)*8+b-o]!=6){
				if(pion[(a+o)*8+b-o]==0){
					position[(a+o)*8+b-o]=2;
				}
				if(pion[(a+o)*8+b-o]==1||pion[(a+o)*8+b-o]==2||pion[(a+o)*8+b-o]==3||pion[(a+o)*8+b-o]==4||pion[(a+o)*8+b-o]==5){
					position[(a+o)*8+b-o]=3;
					o=20;
				}
			}
			else{o=20;}
		}
		else{o=20;}
	}
	for(o=1;o<8;o++){  
		if(a+o<8&&b+o<8){
			if(pion[(a+o)*8+b+o]!=11&&pion[(a+o)*8+b+o]!=22&&pion[(a+o)*8+b+o]!=33&&pion[(a+o)*8+b+o]!=44&&pion[(a+o)*8+b+o]!=55&&pion[(a+o)*8+b+o]!=66&&pion[(a+o)*8+b+o]!=6){
				if(pion[(a+o)*8+b+o]==0){
					position[(a+o)*8+b+o]=2;
				}
				if(pion[(a+o)*8+b+o]==1||pion[(a+o)*8+b+o]==2||pion[(a+o)*8+b+o]==3||pion[(a+o)*8+b+o]==4||pion[(a+o)*8+b+o]==5){
					position[(a+o)*8+b+o]=3;
					o=20;
				}
			}
			else{o=20;}
		}
		else{o=20;}
	}
	for(o=1;o<8;o++){  
		if(a-o>-1&&b+o<8){
			if(pion[(a-o)*8+b+o]!=11&&pion[(a-o)*8+b+o]!=22&&pion[(a-o)*8+b+o]!=33&&pion[(a-o)*8+b+o]!=44&&pion[(a-o)*8+b+o]!=55&&pion[(a-o)*8+b+o]!=66&&pion[(a-o)*8+b+o]!=6){
				if(pion[(a-o)*8+b+o]==0){
					position[(a-o)*8+b+o]=2;
				}
				if(pion[(a-o)*8+b+o]==1||pion[(a-o)*8+b+o]==2||pion[(a-o)*8+b+o]==3||pion[(a-o)*8+b+o]==4||pion[(a-o)*8+b+o]==5){
					position[(a-o)*8+b+o]=3;
					o=20;
				}
			}
			else{o=20;}
		}
		else{o=20;}
	}
	for(o=1;o<8;o++){  
		if(a-o>-1&&b-o>-1){
			if(pion[(a-o)*8+b-o]!=11&&pion[(a-o)*8+b-o]!=22&&pion[(a-o)*8+b-o]!=33&&pion[(a-o)*8+b-o]!=44&&pion[(a-o)*8+b-o]!=55&&pion[(a-o)*8+b-o]!=66&&pion[(a-o)*8+b-o]!=6){
				if(pion[(a-o)*8+b-o]==0){
					position[(a-o)*8+b-o]=2;
				}
				if(pion[(a-o)*8+b-o]==1||pion[(a-o)*8+b-o]==2||pion[(a-o)*8+b-o]==3||pion[(a-o)*8+b-o]==4||pion[(a-o)*8+b-o]==5){
					position[(a-o)*8+b-o]=3;
					o=20;
				}
			}
			else{o=20;}
		}
		else{o=20;}
	}
}
function damenoir(a,b){
	coucou=[a*8+b,5];
	selection=1;
	position[a*8+b]=1;
	for(o=1;b+o<8;o++){  
		if(pion[a*8+b+o]!=1&&pion[a*8+b+o]!=2&&pion[a*8+b+o]!=3&&pion[a*8+b+o]!=4&&pion[a*8+b+o]!=5&&pion[a*8+b+o]!=6&&pion[a*8+b+o]!=66){
			if(pion[a*8+b+o]==0){
				position[a*8+b+o]=2;
			}
			if(pion[a*8+b+o]==11||pion[a*8+b+o]==22||pion[a*8+b+o]==33||pion[a*8+b+o]==44||pion[a*8+b+o]==55){
				position[a*8+b+o]=3;
				o=20;
			}
		}
		else{o=20;}
	}
	for(o=1;b-o>-1;o++){  
		if(pion[a*8+b-o]!=1&&pion[a*8+b-o]!=2&&pion[a*8+b-o]!=3&&pion[a*8+b-o]!=4&&pion[a*8+b-o]!=5&&pion[a*8+b-o]!=6&&pion[a*8+b-o]!=66){
			if(pion[a*8+b-o]==0){
				position[a*8+b-o]=2;
			}
			if(pion[a*8+b-o]==11||pion[a*8+b-o]==22||pion[a*8+b-o]==33||pion[a*8+b-o]==44||pion[a*8+b-o]==55){
				position[a*8+b-o]=3;
				o=20;
			}
		}
		else{o=20;}
	}
	for(i=1;a+i<8;i++){  
		if(pion[(a+i)*8+b]!=1&&pion[(a+i)*8+b]!=2&&pion[(a+i)*8+b]!=3&&pion[(a+i)*8+b]!=4&&pion[(a+i)*8+b]!=5&&pion[(a+i)*8+b]!=6&&pion[(a+i)*8+b]!=66){
			if(pion[(a+i)*8+b]==0){
				position[(a+i)*8+b]=2;
			}
			if(pion[(a+i)*8+b]==11||pion[(a+i)*8+b]==22||pion[(a+i)*8+b]==33||pion[(a+i)*8+b]==44||pion[(a+i)*8+b]==55){
				position[(a+i)*8+b]=3;
				i=20;
			}
		}
		else{i=20;}
	}
	for(i=1;a-i>-1;i++){  
		if(pion[(a-i)*8+b]!=1&&pion[(a-i)*8+b]!=2&&pion[(a-i)*8+b]!=3&&pion[(a-i)*8+b]!=4&&pion[(a-i)*8+b]!=5&&pion[(a-i)*8+b]!=6&&pion[(a-i)*8+b]!=66){
			if(pion[(a-i)*8+b]==0){
				position[(a-i)*8+b]=2;
			}
			if(pion[(a-i)*8+b]==11||pion[(a-i)*8+b]==22||pion[(a-i)*8+b]==33||pion[(a-i)*8+b]==44||pion[(a-i)*8+b]==55){
				position[(a-i)*8+b]=3;
				i=20;
			}
		}
		else{i=20;}
	}
	for(o=1;o<8;o++){  
		if(a+o<8&&b-o>-1){
			if(pion[(a+o)*8+b-o]!=1&&pion[(a+o)*8+b-o]!=2&&pion[(a+o)*8+b-o]!=3&&pion[(a+o)*8+b-o]!=4&&pion[(a+o)*8+b-o]!=5&&pion[(a+o)*8+b-o]!=6&&pion[(a+o)*8+b-o]!=66){
				if(pion[(a+o)*8+b-o]==0){
					position[(a+o)*8+b-o]=2;
				}
				if(pion[(a+o)*8+b-o]==11||pion[(a+o)*8+b-o]==22||pion[(a+o)*8+b-o]==33||pion[(a+o)*8+b-o]==44||pion[(a+o)*8+b-o]==55){
					position[(a+o)*8+b-o]=3;
					o=20;
				}
			}
			else{o=20;}
		}
		else{o=20;}
	}
	for(o=1;o<8;o++){  
		if(a+o<8&&b+o<8){
			if(pion[(a+o)*8+b+o]!=1&&pion[(a+o)*8+b+o]!=2&&pion[(a+o)*8+b+o]!=3&&pion[(a+o)*8+b+o]!=4&&pion[(a+o)*8+b+o]!=5&&pion[(a+o)*8+b+o]!=6&&pion[(a+o)*8+b+o]!=66){
				if(pion[(a+o)*8+b+o]==0){
					position[(a+o)*8+b+o]=2;
				}
				if(pion[(a+o)*8+b+o]==11||pion[(a+o)*8+b+o]==22||pion[(a+o)*8+b+o]==33||pion[(a+o)*8+b+o]==44||pion[(a+o)*8+b+o]==55){
					position[(a+o)*8+b+o]=3;
					o=20;
				}
			}
			else{o=20;}
		}
		else{o=20;}
	}
	for(o=1;o<8;o++){  
		if(a-o>-1&&b+o<8){
			if(pion[(a-o)*8+b+o]!=1&&pion[(a-o)*8+b+o]!=2&&pion[(a-o)*8+b+o]!=3&&pion[(a-o)*8+b+o]!=4&&pion[(a-o)*8+b+o]!=5&&pion[(a-o)*8+b+o]!=6&&pion[(a-o)*8+b+o]!=66){
				if(pion[(a-o)*8+b+o]==0){
					position[(a-o)*8+b+o]=2;
				}
				if(pion[(a-o)*8+b+o]==11||pion[(a-o)*8+b+o]==22||pion[(a-o)*8+b+o]==33||pion[(a-o)*8+b+o]==44||pion[(a-o)*8+b+o]==55){
					position[(a-o)*8+b+o]=3;
					o=20;
				}
			}
			else{o=20;}
		}
		else{o=20;}
	}
	for(o=1;o<8;o++){  
		if(a-o>-1&&b-o>-1){
			if(pion[(a-o)*8+b-o]!=1&&pion[(a-o)*8+b-o]!=2&&pion[(a-o)*8+b-o]!=3&&pion[(a-o)*8+b-o]!=4&&pion[(a-o)*8+b-o]!=5&&pion[(a-o)*8+b-o]!=6&&pion[(a-o)*8+b-o]!=66){
				if(pion[(a-o)*8+b-o]==0){
					position[(a-o)*8+b-o]=2;
				}
				if(pion[(a-o)*8+b-o]==11||pion[(a-o)*8+b-o]==22||pion[(a-o)*8+b-o]==33||pion[(a-o)*8+b-o]==44||pion[(a-o)*8+b-o]==55){
					position[(a-o)*8+b-o]=3;
					o=20;
				}
			}
			else{o=20;}
		}
		else{o=20;}
	}
}
function roiblanc(a,b){
	selection=1;
	testblanc  = [0, 0, 0, 0, 0, 0, 0, 0,
				0, 0, 0, 0, 0, 0, 0, 0,
				0, 0, 0, 0, 0, 0, 0, 0,
				0, 0, 0, 0, 0, 0, 0, 0,
				0, 0, 0, 0, 0, 0, 0, 0,
				0, 0, 0, 0, 0, 0, 0, 0,
				0, 0, 0, 0, 0, 0, 0, 0,
				0, 0, 0, 0, 0, 0, 0, 0];

	for(i=0;i<8;i+=1){  //test roi blanc
		for(o=0;o<8;o+=1){
			if(pion[i*8+o]!=0){				
				if(pion[i*8+o]==1)testpionnoir(i,o);
				if(pion[i*8+o]==2)testtournoir(i,o);
				if(pion[i*8+o]==3)testchevalnoir(i,o);
				if(pion[i*8+o]==4)testfounoir(i,o);
				if(pion[i*8+o]==5)testdamenoir(i,o);
				if(pion[i*8+o]==6)testroinoir(i,o);
			}
		}
	}
	coucou=[a*8+b,66];
	position[a*8+b]=1;
	if(pion[a*8+b+1]==0&&testblanc[a*8+b+1]!=3){
		position[a*8+b+1]=2;
	}
	if((pion[a*8+b+1]==1||pion[a*8+b+1]==2||pion[a*8+b+1]==3||pion[a*8+b+1]==4||pion[a*8+b+1]==5)&&testblanc[a*8+b+1]==3){
		position[a*8+b+1]=3;
	}
	if(pion[a*8+b-1]==0&&testblanc[a*8+b-1]!=3){
		position[a*8+b-1]=2;
	}
	if((pion[a*8+b-1]==1||pion[a*8+b-1]==2||pion[a*8+b-1]==3||pion[a*8+b-1]==4||pion[a*8+b-1]==5)&&testblanc[a*8+b-1]==3){
		position[a*8+b-1]=3;
	}
	if(pion[(a+1)*8+b]==0&&testblanc[(a+1)*8+b]!=3){
		position[(a+1)*8+b]=2;
	}
	if((pion[(a+1)*8+b]==1||pion[(a+1)*8+b]==2||pion[(a+1)*8+b]==33||pion[(a+1)*8+b]==4||pion[(a+1)*8+b]==5)&&testblanc[(a+1)*8+b]==3){
		position[(a+1)*8+b]=3;
	}
	if(pion[(a-1)*8+b]==0&&testblanc[(a-1)*8+b]!=3){
		position[(a-1)*8+b]=2;
	}
	if((pion[(a-1)*8+b]==1||pion[(a-1)*8+b]==2||pion[(a-1)*8+b]==3||pion[(a-1)*8+b]==4||pion[(a-1)*8+b]==5)&&testblanc[(a-1)*8+b]==3){
		position[(a-1)*8+b]=3;
	}

	if(pion[(a+1)*8+b-1]==0&&testblanc[(a+1)*8+b-1]!=3){
		position[(a+1)*8+b-1]=2;
	}
	if((pion[(a+1)*8+b-1]==1||pion[(a+1)*8+b-1]==2||pion[(a+1)*8+b-1]==3||pion[(a+1)*8+b-1]==4||pion[(a+1)*8+b-1]==5)&&testblanc[(a+1)*8+b-1]==3){
		position[(a+1)*8+b-1]=3;
	}
	if(pion[(a+1)*8+b+1]==0&&testblanc[(a+1)*8+b+1]!=3){
		position[(a+1)*8+b+1]=2;
	}
	if((pion[(a+1)*8+b+1]==1||pion[(a+1)*8+b+1]==2||pion[(a+1)*8+b+1]==3||pion[(a+1)*8+b+1]==4||pion[(a+1)*8+b+1]==5)&&testblanc[(a+1)*8+b+1]==3){
		position[(a+1)*8+b+1]=3;
	}
	if(pion[(a-1)*8+b+1]==0&&testblanc[(a-1)*8+b+1]!=3){
		position[(a-1)*8+b+1]=2;
	}
	if((pion[(a-1)*8+b+1]==1||pion[(a-1)*8+b+1]==2||pion[(a-1)*8+b+1]==3||pion[(a-1)*8+b+1]==4||pion[(a-1)*8+b+1]==5)&&testblanc[(a-1)*8+b+1]==3){
		position[(a-1)*8+b+1]=3;
	}
	if(pion[(a-1)*8+b-1]==0&&testblanc[(a-1)*8+b-1]!=3){
		position[(a-1)*8+b-1]=2;
	}
	if((pion[(a-1)*8+b-1]==1||pion[(a-1)*8+b-1]==2||pion[(a-1)*8+b-1]==3||pion[(a-1)*8+b-1]==4||pion[(a-1)*8+b-1]==5)&&testblanc[(a-1)*8+b-1]==3){
		position[(a-1)*8+b-1]=3;
	}
}
function roinoir(a,b){
	selection=1;
	testnoir  = [0, 0, 0, 0, 0, 0, 0, 0,
				0, 0, 0, 0, 0, 0, 0, 0,
				0, 0, 0, 0, 0, 0, 0, 0,
				0, 0, 0, 0, 0, 0, 0, 0,
				0, 0, 0, 0, 0, 0, 0, 0,
				0, 0, 0, 0, 0, 0, 0, 0,
				0, 0, 0, 0, 0, 0, 0, 0,
				0, 0, 0, 0, 0, 0, 0, 0];

	for(i=0;i<8;i+=1){  //test roi noir
		for(o=0;o<8;o+=1){
			if(pion[i*8+o]!=0){
				if(pion[i*8+o]==11)testpionblanc(i,o);
				if(pion[i*8+o]==22)testtourblanc(i,o);
				if(pion[i*8+o]==33)testchevalblanc(i,o);
				if(pion[i*8+o]==44)testfoublanc(i,o);
				if(pion[i*8+o]==55)testdameblanc(i,o);
				if(pion[i*8+o]==66)testroiblanc(i,o);
			}
		}
	}
	coucou=[a*8+b,6];
	position[a*8+b]=1;
	if(pion[a*8+b+1]==0&&testnoir[a*8+b+1]!=3){
		position[a*8+b+1]=2;
	}
	if((pion[a*8+b+1]==11||pion[a*8+b+1]==22||pion[a*8+b+1]==33||pion[a*8+b+1]==44||pion[a*8+b+1]==55)&&testnoir[a*8+b+1]==3){
		position[a*8+b+1]=3;
	}
	if(pion[a*8+b-1]==0&&testnoir[a*8+b-1]!=3){
		position[a*8+b-1]=2;
	}
	if((pion[a*8+b-1]==11||pion[a*8+b-1]==22||pion[a*8+b-1]==33||pion[a*8+b-1]==44||pion[a*8+b-1]==55)&&testnoir[a*8+b-1]==3){
		position[a*8+b-1]=3;
	}
	if(pion[(a+1)*8+b]==0&&testnoir[(a+1)*8+b]!=3){
		position[(a+1)*8+b]=2;
	}
	if((pion[(a+1)*8+b]==11||pion[(a+1)*8+b]==22||pion[(a+1)*8+b]==33||pion[(a+1)*8+b]==44||pion[(a+1)*8+b]==55)&&testnoir[(a+1)*8+b]==3){
		position[(a+1)*8+b]=3;
	}
	if(pion[(a-1)*8+b]==0&&testnoir[(a-1)*8+b]!=3){
		position[(a-1)*8+b]=2;
	}
	if((pion[(a-1)*8+b]==11||pion[(a-1)*8+b]==22||pion[(a-1)*8+b]==33||pion[(a-1)*8+b]==44||pion[(a-1)*8+b]==55)&&testnoir[(a-1)*8+b]==3){
		position[(a-1)*8+b]=3;
	}
	if(pion[(a+1)*8+b-1]==0&&testnoir[(a+1)*8+b-1]!=3){
		position[(a+1)*8+b-1]=2;
	}
	if((pion[(a+1)*8+b-1]==11||pion[(a+1)*8+b-1]==22||pion[(a+1)*8+b-1]==33||pion[(a+1)*8+b-1]==44||pion[(a+1)*8+b-1]==55)&&testnoir[(a+1)*8+b-1]==3){
		position[(a+1)*8+b-1]=3;
	}
	if(pion[(a+1)*8+b+1]==0&&testnoir[(a+1)*8+b+1]!=3){
		position[(a+1)*8+b+1]=2;
	}
	if((pion[(a+1)*8+b+1]==11||pion[(a+1)*8+b+1]==22||pion[(a+1)*8+b+1]==33||pion[(a+1)*8+b+1]==44||pion[(a+1)*8+b+1]==55)&&testnoir[(a+1)*8+b+1]==3){
		position[(a+1)*8+b+1]=3;
	}
	if(pion[(a-1)*8+b+1]==0&&testnoir[(a-1)*8+b+1]!=3){
		position[(a-1)*8+b+1]=2;
	}
	if((pion[(a-1)*8+b+1]==11||pion[(a-1)*8+b+1]==22||pion[(a-1)*8+b+1]==33||pion[(a-1)*8+b+1]==44||pion[(a-1)*8+b+1]==55)&&testnoir[(a-1)*8+b+1]==3){
		position[(a-1)*8+b+1]=3;
	}
	if(pion[(a-1)*8+b-1]==0&&testnoir[(a-1)*8+b-1]!=3){
		position[(a-1)*8+b-1]=2;
	}
	if((pion[(a-1)*8+b-1]==11||pion[(a-1)*8+b-1]==22||pion[(a-1)*8+b-1]==33||pion[(a-1)*8+b-1]==44||pion[(a-1)*8+b-1]==55)&&testnoir[(a-1)*8+b-1]==3){
		position[(a-1)*8+b-1]=3;
	}
}
function testpionblanc(a,b){
	if(a-1>-1&&b+1<8){
		if(pion[(a-1)*8+b+1]==1||pion[(a-1)*8+b+1]==2||pion[(a-1)*8+b+1]==3||pion[(a-1)*8+b+1]==4||pion[(a-1)*8+b+1]==5){
			testnoir[(a-1)*8+b+1]=3;
		}
	}
	if(a-1>-1&&b-1>-1){
		if(pion[(a-1)*8+b-1]==1||pion[(a-1)*8+b-1]==2||pion[(a-1)*8+b-1]==3||pion[(a-1)*8+b-1]==4||pion[(a-1)*8+b-1]==5){
			testnoir[(a-1)*8+b-1]=3;
		}
	}
}
function testpionnoir(a,b){
	if(a+1<8&&b+1<8){
		if(pion[(a+1)*8+b+1]==11||pion[(a+1)*8+b+1]==22||pion[(a+1)*8+b+1]==33||pion[(a+1)*8+b+1]==44||pion[(a+1)*8+b+1]==55){
			testblanc[(a+1)*8+b+1]=3;
		}
	}
	if(a+1<8&&b-1>-1){
		if(pion[(a+1)*8+b-1]==11||pion[(a+1)*8+b-1]==22||pion[(a+1)*8+b-1]==33||pion[(a+1)*8+b-1]==44||pion[(a+1)*8+b-1]==55){
			testblanc[(a+1)*8+b-1]=3;
		}
	}
}
function testtourblanc(a,b){
	for(o=1;b+o<8;o++){  
		if(pion[a*8+b+o]!=11&&pion[a*8+b+o]!=22&&pion[a*8+b+o]!=33&&pion[a*8+b+o]!=44&&pion[a*8+b+o]!=55&&pion[a*8+b+o]!=66&&pion[a*8+b+o]!=6){
			if(pion[a*8+b+o]==0){
				testnoir[a*8+b+o]=3;
			}
			if(pion[a*8+b+o]==1||pion[a*8+b+o]==2||pion[a*8+b+o]==3||pion[a*8+b+o]==4||pion[a*8+b+o]==5){
				testnoir[a*8+b+o]=3;
				o=20;
			}
		}
		else{o=20;}
	}
	for(o=1;b-o>-1;o++){  
		if(pion[a*8+b-o]!=11&&pion[a*8+b-o]!=22&&pion[a*8+b-o]!=33&&pion[a*8+b-o]!=44&&pion[a*8+b-o]!=55&&pion[a*8+b-o]!=66&&pion[a*8+b-o]!=6){
			if(pion[a*8+b-o]==0){
				testnoir[a*8+b-o]=3;
			}
			if(pion[a*8+b-o]==1||pion[a*8+b-o]==2||pion[a*8+b-o]==3||pion[a*8+b-o]==4||pion[a*8+b-o]==5){
				testnoir[a*8+b-o]=3;
				o=20;
			}
		}
		else{o=20;}
	}
	for(i=1;a+i<8;i++){  
		if(pion[(a+i)*8+b]!=11&&pion[(a+i)*8+b]!=22&&pion[(a+i)*8+b]!=3&3&pion[(a+i)*8+b]!=44&&pion[(a+i)*8+b]!=55&&pion[(a+i)*8+b]!=66&&pion[(a+i)*8+b]!=6){
			if(pion[(a+i)*8+b]==0){
				testnoir[(a+i)*8+b]=3;
			}
			if(pion[(a+i)*8+b]==1||pion[(a+i)*8+b]==2||pion[(a+i)*8+b]==33||pion[(a+i)*8+b]==4||pion[(a+i)*8+b]==5){
				testnoir[(a+i)*8+b]=3;
				i=20;
			}
		}
		else{i=20;}
	}
	for(i=1;a-i>-1;i++){  
		if(pion[(a-i)*8+b]!=11&&pion[(a-i)*8+b]!=22&&pion[(a-i)*8+b]!=33&&pion[(a-i)*8+b]!=44&&pion[(a-i)*8+b]!=55&&pion[(a-i)*8+b]!=66&&pion[(a-i)*8+b]!=6){
			if(pion[(a-i)*8+b]==0){
				testnoir[(a-i)*8+b]=3;
			}
			if(pion[(a-i)*8+b]==1||pion[(a-i)*8+b]==2||pion[(a-i)*8+b]==3||pion[(a-i)*8+b]==4||pion[(a-i)*8+b]==5){
				testnoir[(a-i)*8+b]=3;
				i=20;
			}
		}
		else{i=20;}
	}
}
function testtournoir(a,b){
	for(o=1;b+o<8;o++){  
		if(pion[a*8+b+o]!=1&&pion[a*8+b+o]!=2&&pion[a*8+b+o]!=3&&pion[a*8+b+o]!=4&&pion[a*8+b+o]!=5&&pion[a*8+b+o]!=6&&pion[a*8+b+o]!=66){
			if(pion[a*8+b+o]==0){
				testblanc[a*8+b+o]=3;
			}
			if(pion[a*8+b+o]==11||pion[a*8+b+o]==22||pion[a*8+b+o]==33||pion[a*8+b+o]==44||pion[a*8+b+o]==55){
				testblanc[a*8+b+o]=3;
				o=20;
			}
		}
		else{o=20;}
	}
	for(o=1;b-o>-1;o++){  
		if(pion[a*8+b-o]!=1&&pion[a*8+b-o]!=2&&pion[a*8+b-o]!=3&&pion[a*8+b-o]!=4&&pion[a*8+b-o]!=5&&pion[a*8+b-o]!=6&&pion[a*8+b-o]!=66){
			if(pion[a*8+b-o]==0){
				testblanc[a*8+b-o]=3;
			}
			if(pion[a*8+b-o]==11||pion[a*8+b-o]==22||pion[a*8+b-o]==33||pion[a*8+b-o]==44||pion[a*8+b-o]==55){
				testblanc[a*8+b-o]=3;
				o=20;
			}
		}
		else{o=20;}
	}
	for(i=1;a+i<8;i++){  
		if(pion[(a+i)*8+b]!=1&&pion[(a+i)*8+b]!=2&&pion[(a+i)*8+b]!=3&&pion[(a+i)*8+b]!=4&&pion[(a+i)*8+b]!=5&&pion[(a+i)*8+b]!=6&&pion[(a+i)*8+b]!=66){
			if(pion[(a+i)*8+b]==0){
				testblanc[(a+i)*8+b]=3;
			}
			if(pion[(a+i)*8+b]==11||pion[(a+i)*8+b]==22||pion[(a+i)*8+b]==33||pion[(a+i)*8+b]==44||pion[(a+i)*8+b]==55){
				testblanc[(a+i)*8+b]=3;
				i=20;
			}
		}
		else{i=20;}
	}
	for(i=1;a-i>-1;i++){  
		if(pion[(a-i)*8+b]!=1&&pion[(a-i)*8+b]!=2&&pion[(a-i)*8+b]!=3&&pion[(a-i)*8+b]!=4&&pion[(a-i)*8+b]!=5&&pion[(a-i)*8+b]!=6&&pion[(a-i)*8+b]!=66){
			if(pion[(a-i)*8+b]==0){
				testblanc[(a-i)*8+b]=3;
			}
			if(pion[(a-i)*8+b]==11||pion[(a-i)*8+b]==22||pion[(a-i)*8+b]==33||pion[(a-i)*8+b]==44||pion[(a-i)*8+b]==55){
				testblanc[(a-i)*8+b]=3;
				i=20;
			}
		}
		else{i=20;}
	}
}
function testchevalblanc(a,b){
	if(a+2<8&&b+1<8){
		if(pion[(a+2)*8+b+1]!=11&&pion[(a+2)*8+b+1]!=22&&pion[(a+2)*8+b+1]!=33&&pion[(a+2)*8+b+1]!=44&&pion[(a+2)*8+b+1]!=55&&pion[(a+2)*8+b+1]!=66){
			testnoir[(a+2)*8+b+1]=3;
		}
		if(pion[(a+2)*8+b+1]==1||pion[(a+2)*8+b+1]==2||pion[(a+2)*8+b+1]==3||pion[(a+2)*8+b+1]==4||pion[(a+2)*8+b+1]==5){
			testnoir[(a+2)*8+b+1]=3;
		}
	}
	if(a+2<8&&b-1>-1){
		if(pion[(a+2)*8+b-1]!=11&&pion[(a+2)*8+b-1]!=22&&pion[(a+2)*8+b-1]!=33&&pion[(a+2)*8+b-1]!=44&&pion[(a+2)*8+b-1]!=55&&pion[(a+2)*8+b-1]!=66){
			testnoir[(a+2)*8+b-1]=3;
		}
		if(pion[(a+2)*8+b-1]==1||pion[(a+2)*8+b-1]==2||pion[(a+2)*8+b-1]==3||pion[(a+2)*8+b-1]==4||pion[(a+2)*8+b-1]==5){
			testnoir[(a+2)*8+b-1]=3;
		}
	}
		if(a-2>-1&&b+1<8){
		if(pion[(a-2)*8+b+1]!=11&&pion[(a-2)*8+b+1]!=22&&pion[(a-2)*8+b+1]!=33&&pion[(a-2)*8+b+1]!=44&&pion[(a-2)*8+b+1]!=55&&pion[(a-2)*8+b+1]!=66){
			testnoir[(a-2)*8+b+1]=3;
		}
		if(pion[(a-2)*8+b+1]==1||pion[(a-2)*8+b+1]==2||pion[(a-2)*8+b+1]==3||pion[(a-2)*8+b+1]==4||pion[(a-2)*8+b+1]==5){
			testnoir[(a-2)*8+b+1]=3;
		}
	}
	if(a-2>-1&&b-1>-1){
		if(pion[(a-2)*8+b-1]!=11&&pion[(a-2)*8+b-1]!=22&&pion[(a-2)*8+b-1]!=33&&pion[(a-2)*8+b-1]!=44&&pion[(a-2)*8+b-1]!=55&&pion[(a-2)*8+b-1]!=66){
			testnoir[(a-2)*8+b-1]=3;
		}
		if(pion[(a-2)*8+b-1]==1||pion[(a-2)*8+b-1]==2||pion[(a-2)*8+b-1]==3||pion[(a-2)*8+b-1]==4||pion[(a-2)*8+b-1]==5){
			testnoir[(a-2)*8+b-1]=3;
		}
	}
	if(a+1<8&&b+2<8){
		if(pion[(a+1)*8+b+2]!=11&&pion[(a+1)*8+b+2]!=22&&pion[(a+1)*8+b+2]!=33&&pion[(a+1)*8+b+2]!=44&&pion[(a+1)*8+b+2]!=55&&pion[(a+1)*8+b+2]!=66){
			testnoir[(a+1)*8+b+2]=3;
		}
		if(pion[(a+1)*8+b+2]==1||pion[(a+1)*8+b+2]==2||pion[(a+1)*8+b+2]==3||pion[(a+1)*8+b+2]==4||pion[(a+1)*8+b+2]==5){
			testnoir[(a+1)*8+b+2]=3;
		}
	}
	if(a+1<8&&b-2>-1){
		if(pion[(a+1)*8+b-2]!=11&&pion[(a+1)*8+b-2]!=22&&pion[(a+1)*8+b-2]!=33&&pion[(a+1)*8+b-2]!=44&&pion[(a+1)*8+b-2]!=55&&pion[(a+1)*8+b-2]!=66){
			testnoir[(a+1)*8+b-2]=3;
		}
		if(pion[(a+1)*8+b-2]==1||pion[(a+1)*8+b-2]==2||pion[(a+1)*8+b-2]==3||pion[(a+1)*8+b-2]==4||pion[(a+1)*8+b-2]==5){
			testnoir[(a+1)*8+b-2]=3;
		}
	}
		if(a-1>-1&&b+2<8){
		if(pion[(a-1)*8+b+2]!=11&&pion[(a-1)*8+b+2]!=22&&pion[(a-1)*8+b+2]!=33&&pion[(a-1)*8+b+2]!=44&&pion[(a-1)*8+b+2]!=55&&pion[(a-1)*8+b+2]!=66){
			testnoir[(a-1)*8+b+2]=3;
		}
		if(pion[(a-1)*8+b+2]==1||pion[(a-1)*8+b+2]==2||pion[(a-1)*8+b+2]==3||pion[(a-1)*8+b+2]==4||pion[(a-1)*8+b+2]==5){
			testnoir[(a-1)*8+b+2]=3;
		}
	}
	if(a-1>-1&&b-2>-1){
		if(pion[(a-1)*8+b-2]!=11&&pion[(a-1)*8+b-2]!=22&&pion[(a-1)*8+b-2]!=33&&pion[(a-1)*8+b-2]!=44&&pion[(a-1)*8+b-2]!=55&&pion[(a-1)*8+b-2]!=66){
			testnoir[(a-1)*8+b-2]=3;
		}
		if(pion[(a-1)*8+b-2]==1||pion[(a-1)*8+b-2]==2||pion[(a-1)*8+b-2]==3||pion[(a-1)*8+b-2]==4||pion[(a-1)*8+b-2]==5){
			testnoir[(a-1)*8+b-2]=3;
		}
	}
}
function testchevalnoir(a,b){
	if(a+2<8&&b+1<8){
		if(pion[(a+2)*8+b+1]!=1&&pion[(a+2)*8+b+1]!=2&&pion[(a+2)*8+b+1]!=3&&pion[(a+2)*8+b+1]!=4&&pion[(a+2)*8+b+1]!=5&&pion[(a+2)*8+b+1]!=6){
			testblanc[(a+2)*8+b+1]=3;
		}
		if(pion[(a+2)*8+b+1]==11||pion[(a+2)*8+b+1]==22||pion[(a+2)*8+b+1]==33||pion[(a+2)*8+b+1]==44||pion[(a+2)*8+b+1]==55){
			testblanc[(a+2)*8+b+1]=3;
		}
	}
	if(a+2<8&&b-1>-1){
		if(pion[(a+2)*8+b-1]!=1&&pion[(a+2)*8+b-1]!=2&&pion[(a+2)*8+b-1]!=3&&pion[(a+2)*8+b-1]!=4&&pion[(a+2)*8+b-1]!=5&&pion[(a+2)*8+b-1]!=6){
			testblanc[(a+2)*8+b-1]=3;
		}
		if(pion[(a+2)*8+b-1]==11||pion[(a+2)*8+b-1]==22||pion[(a+2)*8+b-1]==33||pion[(a+2)*8+b-1]==44||pion[(a+2)*8+b-1]==55){
			testblanc[(a+2)*8+b-1]=3;
		}
	}
		if(a-2>-1&&b+1<8){
		if(pion[(a-2)*8+b+1]!=1&&pion[(a-2)*8+b+1]!=2&&pion[(a-2)*8+b+1]!=3&&pion[(a-2)*8+b+1]!=4&&pion[(a-2)*8+b+1]!=5&&pion[(a-2)*8+b+1]!=6){
			testblanc[(a-2)*8+b+1]=3;
		}
		if(pion[(a-2)*8+b+1]==11||pion[(a-2)*8+b+1]==22||pion[(a-2)*8+b+1]==33||pion[(a-2)*8+b+1]==44||pion[(a-2)*8+b+1]==55){
			testblanc[(a-2)*8+b+1]=3;
		}
	}
	if(a-2>-1&&b-1>-1){
		if(pion[(a-2)*8+b-1]!=1&&pion[(a-2)*8+b-1]!=2&&pion[(a-2)*8+b-1]!=3&&pion[(a-2)*8+b-1]!=4&&pion[(a-2)*8+b-1]!=5&&pion[(a-2)*8+b-1]!=6){
			testblanc[(a-2)*8+b-1]=3;
		}
		if(pion[(a-2)*8+b-1]==11||pion[(a-2)*8+b-1]==22||pion[(a-2)*8+b-1]==33||pion[(a-2)*8+b-1]==44||pion[(a-2)*8+b-1]==55){
			testblanc[(a-2)*8+b-1]=3;
		}
	}
	if(a+1<8&&b+2<8){
		if(pion[(a+1)*8+b+2]!=1&&pion[(a+1)*8+b+2]!=2&&pion[(a+1)*8+b+2]!=3&&pion[(a+1)*8+b+2]!=4&&pion[(a+1)*8+b+2]!=5&&pion[(a+1)*8+b+2]!=6){
			testblanc[(a+1)*8+b+2]=3;
		}
		if(pion[(a+1)*8+b+2]==11||pion[(a+1)*8+b+2]==22||pion[(a+1)*8+b+2]==33||pion[(a+1)*8+b+2]==44||pion[(a+1)*8+b+2]==55){
			testblanc[(a+1)*8+b+2]=3;
		}
	}
	if(a+1<8&&b-2>-1){
		if(pion[(a+1)*8+b-2]!=1&&pion[(a+1)*8+b-2]!=2&&pion[(a+1)*8+b-2]!=3&&pion[(a+1)*8+b-2]!=4&&pion[(a+1)*8+b-2]!=5&&pion[(a+1)*8+b-2]!=6){
			testblanc[(a+1)*8+b-2]=3;
		}
		if(pion[(a+1)*8+b-2]==11||pion[(a+1)*8+b-2]==22||pion[(a+1)*8+b-2]==33||pion[(a+1)*8+b-2]==44||pion[(a+1)*8+b-2]==55){
			testblanc[(a+1)*8+b-2]=3;
		}
	}
	
		if(a-1>-1&&b+2<8){
		if(pion[(a-1)*8+b+2]!=1&&pion[(a-1)*8+b+2]!=2&&pion[(a-1)*8+b+2]!=3&&pion[(a-1)*8+b+2]!=4&&pion[(a-1)*8+b+2]!=5&&pion[(a-1)*8+b+2]!=6){
			testblanc[(a-1)*8+b+2]=3;
		}
		if(pion[(a-1)*8+b+2]==11||pion[(a-1)*8+b+2]==22||pion[(a-1)*8+b+2]==33||pion[(a-1)*8+b+2]==44||pion[(a-1)*8+b+2]==55){
			testblanc[(a-1)*8+b+2]=3;
		}
	}
	if(a-1>-1&&b-2>-1){
		if(pion[(a-1)*8+b-2]!=1&&pion[(a-1)*8+b-2]!=2&&pion[(a-1)*8+b-2]!=3&&pion[(a-1)*8+b-2]!=4&&pion[(a-1)*8+b-2]!=5&&pion[(a-1)*8+b-2]!=6){
			testblanc[(a-1)*8+b-2]=3;
		}
		if(pion[(a-1)*8+b-2]==11||pion[(a-1)*8+b-2]==22||pion[(a-1)*8+b-2]==33||pion[(a-1)*8+b-2]==44||pion[(a-1)*8+b-2]==55){
			testblanc[(a-1)*8+b-2]=3;
		}
	}
}
function testfoublanc(a,b){
	for(o=1;o<8;o++){  
		if(a+o<8&&b-o>-1){
			if(pion[(a+o)*8+b-o]!=11&&pion[(a+o)*8+b-o]!=22&&pion[(a+o)*8+b-o]!=33&&pion[(a+o)*8+b-o]!=44&&pion[(a+o)*8+b-o]!=55&&pion[(a+o)*8+b-o]!=66&&pion[(a+o)*8+b-o]!=6){
				if(pion[(a+o)*8+b-o]==0){
					testnoir[(a+o)*8+b-o]=3;
				}
				if(pion[(a+o)*8+b-o]==1||pion[(a+o)*8+b-o]==2||pion[(a+o)*8+b-o]==3||pion[(a+o)*8+b-o]==4||pion[(a+o)*8+b-o]==5){
					testnoir[(a+o)*8+b-o]=3;
					o=20;
				}
			}
			else{o=20;}
		}
		else{o=20;}
	}
	for(o=1;o<8;o++){  
		if(a+o<8&&b+o<8){
			if(pion[(a+o)*8+b+o]!=11&&pion[(a+o)*8+b+o]!=22&&pion[(a+o)*8+b+o]!=33&&pion[(a+o)*8+b+o]!=44&&pion[(a+o)*8+b+o]!=55&&pion[(a+o)*8+b+o]!=66&&pion[(a+o)*8+b+o]!=6){
				if(pion[(a+o)*8+b+o]==0){
					testnoir[(a+o)*8+b+o]=3;
				}
				if(pion[(a+o)*8+b+o]==1||pion[(a+o)*8+b+o]==2||pion[(a+o)*8+b+o]==3||pion[(a+o)*8+b+o]==4||pion[(a+o)*8+b+o]==5){
					testnoir[(a+o)*8+b+o]=3;
					o=20;
				}
			}
			else{o=20;}
		}
		else{o=20;}
	}
	for(o=1;o<8;o++){  
		if(a-o>-1&&b+o<8){
			if(pion[(a-o)*8+b+o]!=11&&pion[(a-o)*8+b+o]!=22&&pion[(a-o)*8+b+o]!=33&&pion[(a-o)*8+b+o]!=44&&pion[(a-o)*8+b+o]!=55&&pion[(a-o)*8+b+o]!=66&&pion[(a-o)*8+b+o]!=6){
				if(pion[(a-o)*8+b+o]==0){
					testnoir[(a-o)*8+b+o]=3;
				}
				if(pion[(a-o)*8+b+o]==1||pion[(a-o)*8+b+o]==2||pion[(a-o)*8+b+o]==3||pion[(a-o)*8+b+o]==4||pion[(a-o)*8+b+o]==5){
					testnoir[(a-o)*8+b+o]=3;
					o=20;
				}
			}
			else{o=20;}
		}
		else{o=20;}
	}
	for(o=1;o<8;o++){  
		if(a-o>-1&&b-o>-1){
			if(pion[(a-o)*8+b-o]!=11&&pion[(a-o)*8+b-o]!=22&&pion[(a-o)*8+b-o]!=33&&pion[(a-o)*8+b-o]!=44&&pion[(a-o)*8+b-o]!=55&&pion[(a-o)*8+b-o]!=66&&pion[(a-o)*8+b-o]!=6){
				if(pion[(a-o)*8+b-o]==0){
					testnoir[(a-o)*8+b-o]=3;
				}
				if(pion[(a-o)*8+b-o]==1||pion[(a-o)*8+b-o]==2||pion[(a-o)*8+b-o]==3||pion[(a-o)*8+b-o]==4||pion[(a-o)*8+b-o]==5){
					testnoir[(a-o)*8+b-o]=3;
					o=20;
				}
			}
			else{o=20;}
		}
		else{o=20;}
	}
}
function testfounoir(a,b){
	for(o=1;o<8;o++){  
		if(a+o<8&&b-o>-1){
			if(pion[(a+o)*8+b-o]!=1&&pion[(a+o)*8+b-o]!=2&&pion[(a+o)*8+b-o]!=3&&pion[(a+o)*8+b-o]!=4&&pion[(a+o)*8+b-o]!=5&&pion[(a+o)*8+b-o]!=6&&pion[(a+o)*8+b-o]!=66){
				if(pion[(a+o)*8+b-o]==0){
					testblanc[(a+o)*8+b-o]=3;
				}
				if(pion[(a+o)*8+b-o]==11||pion[(a+o)*8+b-o]==22||pion[(a+o)*8+b-o]==33||pion[(a+o)*8+b-o]==44||pion[(a+o)*8+b-o]==55){
					testblanc[(a+o)*8+b-o]=3;
					o=20;
				}
			}
			else{o=20;}
		}
		else{o=20;}
	}
	for(o=1;o<8;o++){  
		if(a+o<8&&b+o<8){
			if(pion[(a+o)*8+b+o]!=1&&pion[(a+o)*8+b+o]!=2&&pion[(a+o)*8+b+o]!=3&&pion[(a+o)*8+b+o]!=4&&pion[(a+o)*8+b+o]!=5&&pion[(a+o)*8+b+o]!=6&&pion[(a+o)*8+b+o]!=66){
				if(pion[(a+o)*8+b+o]==0){
					testblanc[(a+o)*8+b+o]=3;
				}
				if(pion[(a+o)*8+b+o]==11||pion[(a+o)*8+b+o]==22||pion[(a+o)*8+b+o]==33||pion[(a+o)*8+b+o]==44||pion[(a+o)*8+b+o]==55){
					testblanc[(a+o)*8+b+o]=3;
					o=20;
				}
			}
			else{o=20;}
		}
		else{o=20;}
	}
	for(o=1;o<8;o++){  
		if(a-o>-1&&b+o<8){
			if(pion[(a-o)*8+b+o]!=1&&pion[(a-o)*8+b+o]!=2&&pion[(a-o)*8+b+o]!=3&&pion[(a-o)*8+b+o]!=4&&pion[(a-o)*8+b+o]!=5&&pion[(a-o)*8+b+o]!=6&&pion[(a-o)*8+b+o]!=66){
				if(pion[(a-o)*8+b+o]==0){
					testblanc[(a-o)*8+b+o]=3;
				}
				if(pion[(a-o)*8+b+o]==11||pion[(a-o)*8+b+o]==22||pion[(a-o)*8+b+o]==33||pion[(a-o)*8+b+o]==44||pion[(a-o)*8+b+o]==55){
					testblanc[(a-o)*8+b+o]=3;
					o=20;
				}
			}
			else{o=20;}
		}
		else{o=20;}
	}
	for(o=1;o<8;o++){  
		if(a-o>-1&&b-o>-1){
			if(pion[(a-o)*8+b-o]!=1&&pion[(a-o)*8+b-o]!=2&&pion[(a-o)*8+b-o]!=3&&pion[(a-o)*8+b-o]!=4&&pion[(a-o)*8+b-o]!=5&&pion[(a-o)*8+b-o]!=6&&pion[(a-o)*8+b-o]!=66){
				if(pion[(a-o)*8+b-o]==0){
					testblanc[(a-o)*8+b-o]=3;
				}
				if(pion[(a-o)*8+b-o]==11||pion[(a-o)*8+b-o]==22||pion[(a-o)*8+b-o]==33||pion[(a-o)*8+b-o]==44||pion[(a-o)*8+b-o]==55){
					testblanc[(a-o)*8+b-o]=3;
					o=20;
				}
			}
			else{o=20;}
		}
		else{o=20;}
	}
}
function testdameblanc(a,b){
	for(o=1;b+o<8;o++){  
		if(pion[a*8+b+o]!=11&&pion[a*8+b+o]!=22&&pion[a*8+b+o]!=33&&pion[a*8+b+o]!=44&&pion[a*8+b+o]!=55&&pion[a*8+b+o]!=66&&pion[a*8+b+o]!=6){
			if(pion[a*8+b+o]==0){
				testnoir[a*8+b+o]=3;
			}
			if(pion[a*8+b+o]==1||pion[a*8+b+o]==2||pion[a*8+b+o]==3||pion[a*8+b+o]==4||pion[a*8+b+o]==5){
				testnoir[a*8+b+o]=3;
				o=20;
			}
		}
		else{o=20;}
	}
	for(o=1;b-o>-1;o++){  
		if(pion[a*8+b-o]!=11&&pion[a*8+b-o]!=22&&pion[a*8+b-o]!=33&&pion[a*8+b-o]!=44&&pion[a*8+b-o]!=55&&pion[a*8+b-o]!=66&&pion[a*8+b-o]!=6){
			if(pion[a*8+b-o]==0){
				testnoir[a*8+b-o]=3;
			}
			if(pion[a*8+b-o]==1||pion[a*8+b-o]==2||pion[a*8+b-o]==3||pion[a*8+b-o]==4||pion[a*8+b-o]==5){
				testnoir[a*8+b-o]=3;
				o=20;
			}
		}
		else{o=20;}
	}
	
	for(i=1;a+i<8;i++){  
		if(pion[(a+i)*8+b]!=11&&pion[(a+i)*8+b]!=22&&pion[(a+i)*8+b]!=33&&pion[(a+i)*8+b]!=44&&pion[(a+i)*8+b]!=55&&pion[(a+i)*8+b]!=66&&pion[(a+i)*8+b]!=6){
			if(pion[(a+i)*8+b]==0){
				testnoir[(a+i)*8+b]=3;
			}
			if(pion[(a+i)*8+b]==1||pion[(a+i)*8+b]==2||pion[(a+i)*8+b]==33||pion[(a+i)*8+b]==4||pion[(a+i)*8+b]==5){
				testnoir[(a+i)*8+b]=3;
				i=20;
			}
		}
		else{i=20;}
	}
	for(i=1;a-i>-1;i++){  
		if(pion[(a-i)*8+b]!=11&&pion[(a-i)*8+b]!=22&&pion[(a-i)*8+b]!=33&&pion[(a-i)*8+b]!=44&&pion[(a-i)*8+b]!=55&&pion[(a-i)*8+b]!=66&&pion[(a-i)*8+b]!=6){
			if(pion[(a-i)*8+b]==0){
				testnoir[(a-i)*8+b]=3;
			}
			if(pion[(a-i)*8+b]==1||pion[(a-i)*8+b]==2||pion[(a-i)*8+b]==3||pion[(a-i)*8+b]==4||pion[(a-i)*8+b]==5){
				testnoir[(a-i)*8+b]=3;
				i=20;
			}
		}
		else{i=20;}
	}
	for(o=1;o<8;o++){  
		if(a+o<8&&b-o>-1){
			if(pion[(a+o)*8+b-o]!=11&&pion[(a+o)*8+b-o]!=22&&pion[(a+o)*8+b-o]!=33&&pion[(a+o)*8+b-o]!=44&&pion[(a+o)*8+b-o]!=55&&pion[(a+o)*8+b-o]!=66&&pion[(a+o)*8+b-o]!=6){
				if(pion[(a+o)*8+b-o]==0){
					testnoir[(a+o)*8+b-o]=3;
				}
				if(pion[(a+o)*8+b-o]==1||pion[(a+o)*8+b-o]==2||pion[(a+o)*8+b-o]==3||pion[(a+o)*8+b-o]==4||pion[(a+o)*8+b-o]==5){
					testnoir[(a+o)*8+b-o]=3;
					o=20;
				}
			}
			else{o=20;}
		}
		else{o=20;}
	}
	for(o=1;o<8;o++){  
		if(a+o<8&&b+o<8){
			if(pion[(a+o)*8+b+o]!=11&&pion[(a+o)*8+b+o]!=22&&pion[(a+o)*8+b+o]!=33&&pion[(a+o)*8+b+o]!=44&&pion[(a+o)*8+b+o]!=55&&pion[(a+o)*8+b+o]!=66&&pion[(a+o)*8+b+o]!=6){
				if(pion[(a+o)*8+b+o]==0){
					testnoir[(a+o)*8+b+o]=3;
				}
				if(pion[(a+o)*8+b+o]==1||pion[(a+o)*8+b+o]==2||pion[(a+o)*8+b+o]==3||pion[(a+o)*8+b+o]==4||pion[(a+o)*8+b+o]==5){
					testnoir[(a+o)*8+b+o]=3;
					o=20;
				}
			}
			else{o=20;}
		}
		else{o=20;}
	}
	for(o=1;o<8;o++){  
		if(a-o>-1&&b+o<8){
			if(pion[(a-o)*8+b+o]!=11&&pion[(a-o)*8+b+o]!=22&&pion[(a-o)*8+b+o]!=33&&pion[(a-o)*8+b+o]!=44&&pion[(a-o)*8+b+o]!=55&&pion[(a-o)*8+b+o]!=66&&pion[(a-o)*8+b+o]!=6){
				if(pion[(a-o)*8+b+o]==0){
					testnoir[(a-o)*8+b+o]=3;
				}
				if(pion[(a-o)*8+b+o]==1||pion[(a-o)*8+b+o]==2||pion[(a-o)*8+b+o]==3||pion[(a-o)*8+b+o]==4||pion[(a-o)*8+b+o]==5){
					testnoir[(a-o)*8+b+o]=3;
					o=20;
				}
			}
			else{o=20;}
		}
		else{o=20;}
	}
	for(o=1;o<8;o++){  
		if(a-o>-1&&b-o>-1){
			if(pion[(a-o)*8+b-o]!=11&&pion[(a-o)*8+b-o]!=22&&pion[(a-o)*8+b-o]!=33&&pion[(a-o)*8+b-o]!=44&&pion[(a-o)*8+b-o]!=55&&pion[(a-o)*8+b-o]!=66&&pion[(a-o)*8+b-o]!=6){
				if(pion[(a-o)*8+b-o]==0){
					testnoir[(a-o)*8+b-o]=3;
				}
				if(pion[(a-o)*8+b-o]==1||pion[(a-o)*8+b-o]==2||pion[(a-o)*8+b-o]==3||pion[(a-o)*8+b-o]==4||pion[(a-o)*8+b-o]==5){
					testnoir[(a-o)*8+b-o]=3;
					o=20;
				}
			}
			else{o=20;}
		}
		else{o=20;}
	}
}
function testdamenoir(a,b){
	for(o=1;b+o<8;o++){  
		if(pion[a*8+b+o]!=1&&pion[a*8+b+o]!=2&&pion[a*8+b+o]!=3&&pion[a*8+b+o]!=4&&pion[a*8+b+o]!=5&&pion[a*8+b+o]!=6&&pion[a*8+b+o]!=66){
			if(pion[a*8+b+o]==0){
				testblanc[a*8+b+o]=3;
			}
			if(pion[a*8+b+o]==11||pion[a*8+b+o]==22||pion[a*8+b+o]==33||pion[a*8+b+o]==44||pion[a*8+b+o]==55){
				testblanc[a*8+b+o]=3;
				o=20;
			}
		}
		else{o=20;}
	}
	for(o=1;b-o>-1;o++){  
		if(pion[a*8+b-o]!=1&&pion[a*8+b-o]!=2&&pion[a*8+b-o]!=3&&pion[a*8+b-o]!=4&&pion[a*8+b-o]!=5&&pion[a*8+b-o]!=6&&pion[a*8+b-o]!=66){
			if(pion[a*8+b-o]==0){
				testblanc[a*8+b-o]=3;
			}
			if(pion[a*8+b-o]==11||pion[a*8+b-o]==22||pion[a*8+b-o]==33||pion[a*8+b-o]==44||pion[a*8+b-o]==55){
				testblanc[a*8+b-o]=3;
				o=20;
			}
		}
		else{o=20;}
	}
	for(i=1;a+i<8;i++){  
		if(pion[(a+i)*8+b]!=1&&pion[(a+i)*8+b]!=2&&pion[(a+i)*8+b]!=3&&pion[(a+i)*8+b]!=4&&pion[(a+i)*8+b]!=5&&pion[(a+i)*8+b]!=6&&pion[(a+i)*8+b]!=66){
			if(pion[(a+i)*8+b]==0){
				testblanc[(a+i)*8+b]=3;
			}
			if(pion[(a+i)*8+b]==11||pion[(a+i)*8+b]==22||pion[(a+i)*8+b]==33||pion[(a+i)*8+b]==44||pion[(a+i)*8+b]==55){
				testblanc[(a+i)*8+b]=3;
				i=20;
			}
		}
		else{i=20;}
	}
	for(i=1;a-i>-1;i++){  
		if(pion[(a-i)*8+b]!=1&&pion[(a-i)*8+b]!=2&&pion[(a-i)*8+b]!=3&&pion[(a-i)*8+b]!=4&&pion[(a-i)*8+b]!=5&&pion[(a-i)*8+b]!=6&&pion[(a-i)*8+b]!=66){
			if(pion[(a-i)*8+b]==0){
				testblanc[(a-i)*8+b]=3;
			}
			if(pion[(a-i)*8+b]==11||pion[(a-i)*8+b]==22||pion[(a-i)*8+b]==33||pion[(a-i)*8+b]==44||pion[(a-i)*8+b]==55){
				testblanc[(a-i)*8+b]=3;
				i=20;
			}
		}
		else{i=20;}
	}
	for(o=1;o<8;o++){  
		if(a+o<8&&b-o>-1){
			if(pion[(a+o)*8+b-o]!=1&&pion[(a+o)*8+b-o]!=2&&pion[(a+o)*8+b-o]!=3&&pion[(a+o)*8+b-o]!=4&&pion[(a+o)*8+b-o]!=5&&pion[(a+o)*8+b-o]!=6&&pion[(a+o)*8+b-o]!=66){
				if(pion[(a+o)*8+b-o]==0){
					testblanc[(a+o)*8+b-o]=3;
				}
				if(pion[(a+o)*8+b-o]==11||pion[(a+o)*8+b-o]==22||pion[(a+o)*8+b-o]==33||pion[(a+o)*8+b-o]==44||pion[(a+o)*8+b-o]==55){
					testblanc[(a+o)*8+b-o]=3;
					o=20;
				}
			}
			else{o=20;}
		}
		else{o=20;}
	}
	for(o=1;o<8;o++){  
		if(a+o<8&&b+o<8){
			if(pion[(a+o)*8+b+o]!=1&&pion[(a+o)*8+b+o]!=2&&pion[(a+o)*8+b+o]!=3&&pion[(a+o)*8+b+o]!=4&&pion[(a+o)*8+b+o]!=5&&pion[(a+o)*8+b+o]!=6&&pion[(a+o)*8+b+o]!=66){
				if(pion[(a+o)*8+b+o]==0){
					testblanc[(a+o)*8+b+o]=3;
				}
				if(pion[(a+o)*8+b+o]==11||pion[(a+o)*8+b+o]==22||pion[(a+o)*8+b+o]==33||pion[(a+o)*8+b+o]==44||pion[(a+o)*8+b+o]==55){
					testblanc[(a+o)*8+b+o]=3;
					o=20;
				}
			}
			else{o=20;}
		}
		else{o=20;}
	}
	for(o=1;o<8;o++){  
		if(a-o>-1&&b+o<8){
			if(pion[(a-o)*8+b+o]!=1&&pion[(a-o)*8+b+o]!=2&&pion[(a-o)*8+b+o]!=3&&pion[(a-o)*8+b+o]!=4&&pion[(a-o)*8+b+o]!=5&&pion[(a-o)*8+b+o]!=6&&pion[(a-o)*8+b+o]!=66){
				if(pion[(a-o)*8+b+o]==0){
					testblanc[(a-o)*8+b+o]=3;
				}
				if(pion[(a-o)*8+b+o]==11||pion[(a-o)*8+b+o]==22||pion[(a-o)*8+b+o]==33||pion[(a-o)*8+b+o]==44||pion[(a-o)*8+b+o]==55){
					testblanc[(a-o)*8+b+o]=3;
					o=20;
				}
			}
			else{o=20;}
		}
		else{o=20;}
	}
	for(o=1;o<8;o++){  
		if(a-o>-1&&b-o>-1){
			if(pion[(a-o)*8+b-o]!=1&&pion[(a-o)*8+b-o]!=2&&pion[(a-o)*8+b-o]!=3&&pion[(a-o)*8+b-o]!=4&&pion[(a-o)*8+b-o]!=5&&pion[(a-o)*8+b-o]!=6&&pion[(a-o)*8+b-o]!=66){
				if(pion[(a-o)*8+b-o]==0){
					testblanc[(a-o)*8+b-o]=3;
				}
				if(pion[(a-o)*8+b-o]==11||pion[(a-o)*8+b-o]==22||pion[(a-o)*8+b-o]==33||pion[(a-o)*8+b-o]==44||pion[(a-o)*8+b-o]==55){
					testblanc[(a-o)*8+b-o]=3;
					o=20;
				}
			}
			else{o=20;}
		}
		else{o=20;}
	}
}
function testroiblanc(a,b){
	if(pion[a*8+b+1]==0){
		testnoir[a*8+b+1]=3;
	}
	if(pion[a*8+b+1]==1||pion[a*8+b+1]==2||pion[a*8+b+1]==3||pion[a*8+b+1]==4||pion[a*8+b+1]==5){
		testnoir[a*8+b+1]=3;
	}
	if(pion[a*8+b-1]==0){
		testnoir[a*8+b-1]=3;
	}
	if(pion[a*8+b-1]==1||pion[a*8+b-1]==2||pion[a*8+b-1]==3||pion[a*8+b-1]==4||pion[a*8+b-1]==5){
		testnoir[a*8+b-1]=3;
	}
	if(pion[(a+1)*8+b]==0){
		testnoirV[(a+1)*8+b]=3;
	}
	if(pion[(a+1)*8+b]==1||pion[(a+1)*8+b]==2||pion[(a+1)*8+b]==33||pion[(a+1)*8+b]==4||pion[(a+1)*8+b]==5){
		testnoir[(a+1)*8+b]=3;
	}
	if(pion[(a-1)*8+b]==0){
		testnoir[(a-1)*8+b]=3;
	}
	if(pion[(a-1)*8+b]==1||pion[(a-1)*8+b]==2||pion[(a-1)*8+b]==3||pion[(a-1)*8+b]==4||pion[(a-1)*8+b]==5){
		testnoir[(a-1)*8+b]=3;
	}
	if(pion[(a+1)*8+b-1]==0){
		testnoir[(a+1)*8+b-1]=3;
	}
	if(pion[(a+1)*8+b-1]==1||pion[(a+1)*8+b-1]==2||pion[(a+1)*8+b-1]==3||pion[(a+1)*8+b-1]==4||pion[(a+1)*8+b-1]==5){
		testnoir[(a+1)*8+b-1]=3;
	}
	if(pion[(a+1)*8+b+1]==0){
		testnoir[(a+1)*8+b+1]=3;
	}
	if(pion[(a+1)*8+b+1]==1||pion[(a+1)*8+b+1]==2||pion[(a+1)*8+b+1]==3||pion[(a+1)*8+b+1]==4||pion[(a+1)*8+b+1]==5){
		testnoir[(a+1)*8+b+1]=3;
	}
	if(pion[(a-1)*8+b+1]==0){
		testnoir[(a-1)*8+b+1]=3;
	}
	if(pion[(a-1)*8+b+1]==1||pion[(a-1)*8+b+1]==2||pion[(a-1)*8+b+1]==3||pion[(a-1)*8+b+1]==4||pion[(a-1)*8+b+1]==5){
		testnoir[(a-1)*8+b+1]=3;
	}
	if(pion[(a-1)*8+b-1]==0){
		testnoir[(a-1)*8+b-1]=3;
	}
	if(pion[(a-1)*8+b-1]==1||pion[(a-1)*8+b-1]==2||pion[(a-1)*8+b-1]==3||pion[(a-1)*8+b-1]==4||pion[(a-1)*8+b-1]==5){
		testnoir[(a-1)*8+b-1]=3;
	}
}
function testroinoir(a,b){
	if(pion[a*8+b+1]==0){
		testblanc[a*8+b+1]=3;
	}
	if(pion[a*8+b+1]==11||pion[a*8+b+1]==22||pion[a*8+b+1]==33||pion[a*8+b+1]==44||pion[a*8+b+1]==55){
		testblanc[a*8+b+1]=3;
	}
	if(pion[a*8+b-1]==0){
		testblanc[a*8+b-1]=3;
	}
	if(pion[a*8+b-1]==11||pion[a*8+b-1]==22||pion[a*8+b-1]==33||pion[a*8+b-1]==44||pion[a*8+b-1]==55){
		testblanc[a*8+b-1]=3;
	}
	if(pion[(a+1)*8+b]==0){
		testblanc[(a+1)*8+b]=3;
	}
	if(pion[(a+1)*8+b]==11||pion[(a+1)*8+b]==22||pion[(a+1)*8+b]==33||pion[(a+1)*8+b]==44||pion[(a+1)*8+b]==55){
		testblanc[(a+1)*8+b]=3;
	}
	if(pion[(a-1)*8+b]==0){
		testblanc[(a-1)*8+b]=3;
	}
	if(pion[(a-1)*8+b]==11||pion[(a-1)*8+b]==22||pion[(a-1)*8+b]==33||pion[(a-1)*8+b]==44||pion[(a-1)*8+b]==55){
		testblanc[(a-1)*8+b]=3;
	}
	if(pion[(a+1)*8+b-1]==0){
		testblanc[(a+1)*8+b-1]=3;
	}
	if(pion[(a+1)*8+b-1]==11||pion[(a+1)*8+b-1]==22||pion[(a+1)*8+b-1]==33||pion[(a+1)*8+b-1]==44||pion[(a+1)*8+b-1]==55){
		testblanc[(a+1)*8+b-1]=3;
	}
	if(pion[(a+1)*8+b+1]==0){
		testblanc[(a+1)*8+b+1]=3;
	}
	if(pion[(a+1)*8+b+1]==11||pion[(a+1)*8+b+1]==22||pion[(a+1)*8+b+1]==33||pion[(a+1)*8+b+1]==44||pion[(a+1)*8+b+1]==55){
		testblanc[(a+1)*8+b+1]=3;
	}
	if(pion[(a-1)*8+b+1]==0){
		testblanc[(a-1)*8+b+1]=3;
	}
	if(pion[(a-1)*8+b+1]==11||pion[(a-1)*8+b+1]==22||pion[(a-1)*8+b+1]==33||pion[(a-1)*8+b+1]==44||pion[(a-1)*8+b+1]==55){
		testblanc[(a-1)*8+b+1]=3;
	}
	if(pion[(a-1)*8+b-1]==0){
		testblanc[(a-1)*8+b-1]=3;
	}
	if(pion[(a-1)*8+b-1]==11||pion[(a-1)*8+b-1]==22||pion[(a-1)*8+b-1]==33||pion[(a-1)*8+b-1]==44||pion[(a-1)*8+b-1]==55){
		testblanc[(a-1)*8+b-1]=3;
	}
}